{% include 'index_nav.html' %}
{% load static %}

<!--================Home Banner Area =================-->
<section class="banner_area">
  <div class="banner_inner d-flex align-items-center">
    <div class="container">
      <div class="banner_content d-md-flex justify-content-between align-items-center">
        <div class="mb-3 mb-md-0">
          <h2>Product Details</h2>
          <p>Explore our premium collection</p>
        </div>
        <div class="page_link">
          <a href="/">Home</a>
          <a href="#">Product Details</a>
        </div>
      </div>
    </div>
  </div>
</section>
<!--================End Home Banner Area =================-->

<!--================Single Product Area =================-->
<div class="product_image_area">
  <div class="container">
    <div class="row s_product_inner">
      <div class="col-lg-6">
        <div class="s_product_img">
          <img src="{{ product.image.url }}" class="img-fluid rounded" alt="{{ product.name }}">
        </div>
      </div>
      <div class="col-lg-5 offset-lg-1">
        <div class="s_product_text">
          <h3>{{ product.name }}</h3>
          <h2>â‚¹{{ product.price }}</h2>

          <ul class="list">
  <li><span>Category</span> : {{ product.subcategory.name }}</li>

  {% if sizes %}
    <div class="mb-3">
        <label class="form-label"><b>Select Size:</b></label><br>
        {% for size in sizes %}
            <input type="radio" id="size_{{ forloop.counter }}" name="size" value="{{ size }}" required>
            <label for="size_{{ forloop.counter }}">{{ size }}</label>&nbsp;&nbsp;
        {% endfor %}
    </div>
    {% endif %}

    <!-- Color Options -->
    {% if colors %}
    <div class="mb-3">
        <label class="form-label"><b>Select Color:</b></label><br>
        {% for color in colors %}
            <input type="radio" id="color_{{ forloop.counter }}" name="color" value="{{ color }}" required>
            <label for="color_{{ forloop.counter }}">{{ color }}</label>&nbsp;&nbsp;
        {% endfor %}
    </div>
    {% endif %}


  <li><span>Ideal For</span> : {{ product.gender|title }}</li>
  <li>
    <span>Availability</span> :
    {% if product.stock > 0 %}
      <span class="text-success">In Stock ({{ product.stock }})</span>
    {% else %}
      <span class="text-danger">Out of Stock</span>
    {% endif %}
  </li>
</ul>

          <p>{{ product.description }}</p>

          <div class="card_area d-flex align-items-center">
 <form method="post" action="{% url 'add_to_cart' product.id %}">
        {% csrf_token %}
        <input type="hidden" name="size" id="selected_size">
        <input type="hidden" name="color" id="selected_color">

        <button type="submit" class="main_btn">Add to Cart</button>
    </form>
            <a class="icon_btn me-2" href="{% url 'add_to_wishlist' product.id %}">
              <i class="lnr lnr-heart"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!--================End Single Product Area =================-->

<!--================Product Description Area =================-->
<section class="product_description_area">
  <div class="container">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="desc-tab" data-toggle="tab" href="#desc" role="tab">Description</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="spec-tab" data-toggle="tab" href="#spec" role="tab">Specification</a>
      </li>
    </ul>

    <div class="tab-content" id="myTabContent">
      <!-- Description -->
      <div class="tab-pane fade show active" id="desc" role="tabpanel">
        <p>{{ product.description }}</p>
      </div>

      <!-- Specifications -->
      <div class="tab-pane fade" id="spec" role="tabpanel">
        <table class="table table-bordered">
          <tr>
            <td><b>Category</b></td>
            <td>{{ product.subcategory.name }}</td>
          </tr>
          <tr>
  <td><b>Sizes</b></td>
  <td>
    {% if sizes %}
      {% for size in sizes %}
        <span class="badge bg-warning me-1 text-dark">{{ size }}</span>
      {% endfor %}
    {% else %}
      <span class="text-muted">N/A</span>
    {% endif %}
  </td>
</tr>
<tr>
  <td><b>Colors</b></td>
  <td>
    {% if colors %}
      {% for color in colors %}
        <span class="badge bg-warning text-dark me-1 p-2">{{ color }}</span>
      {% endfor %}
    {% else %}
      <span class="text-muted">N/A</span>
    {% endif %}
  </td>
</tr>

          <tr>
            <td><b>Ideal For</b></td>
            <td>{{ product.gender|title }}</td>
          </tr>
          <tr>
            <td><b>GST</b></td>
            <td>{{ product.gst_percentage }}%</td>
          </tr>
          <tr>
            <td><b>Stock</b></td>
            <td>{{ product.stock }}</td>
          </tr>
          <tr>
            <td><b>Status</b></td>
            <td>{{ product.status|title }}</td>
          </tr>

        </table>
      </div>
    </div>
  </div>
</section>
<!--================End Product Description Area =================-->



<!--================ start footer Area =================-->
<footer class="footer-area section_gap">
  <div class="container">
    <div class="row">
      <div class="col-lg-2 col-md-6 single-footer-widget">
        <h4>Top Products</h4>
        <ul> <li><a href="#">Managed Website</a></li> <li><a href="#">Manage Reputation</a></li> <li><a href="#">Power Tools</a></li> <li><a href="#">Marketing Service</a></li> </ul> </div> <div class="col-lg-2 col-md-6 single-footer-widget"> <h4>Quick Links</h4> <ul> <li><a href="#">Jobs</a></li> <li><a href="#">Brand Assets</a></li> <li><a href="#">Investor Relations</a></li> <li><a href="#">Terms of Service</a></li> </ul> </div> <div class="col-lg-2 col-md-6 single-footer-widget"> <h4>Features</h4> <ul> <li><a href="#">Jobs</a></li> <li><a href="#">Brand Assets</a></li> <li><a href="#">Investor Relations</a></li> <li><a href="#">Terms of Service</a></li> </ul> </div> <div class="col-lg-2 col-md-6 single-footer-widget"> <h4>Resources</h4> <ul> <li><a href="#">Guides</a></li> <li><a href="#">Research</a></li> <li><a href="#">Experts</a></li> <li><a href="#">Agencies</a></li> </ul> </div> <div class="col-lg-4 col-md-6 single-footer-widget"> <h4>Newsletter</h4> <p>You can trust us. we only send promo offers,</p> <div class="form-wrap" id="mc_embed_signup"> <form target="_blank" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01" method="get" class="form-inline"> <input class="form-control" name="EMAIL" placeholder="Your Email Address" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Your Email Address '" required="" type="email"> <button class="click-btn btn btn-default">Subscribe</button> <div style="position: absolute; left: -5000px;"> <input name="b_36c4fd991d266f23781ded980_aefe40901a" tabindex="-1" value="" type="text"> </div> <div class="info"></div> </form> </div> </div> </div> <div class="footer-bottom row align-items-center"> <p class="footer-text m-0 col-lg-8 col-md-12"><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --> Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a> <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p> <div class="col-lg-4 col-md-12 footer-social"> <a href="#"><i class="fa fa-facebook"></i></a> <a href="#"><i class="fa fa-twitter"></i></a> <a href="#"><i class="fa fa-dribbble"></i></a> <a href="#"><i class="fa fa-behance"></i></a> </div> </div> </div> </footer>


<script>
    // Update hidden inputs when user selects size or color
    document.querySelectorAll("input[name='size']").forEach(radio => {
        radio.addEventListener("change", function() {
            document.getElementById("selected_size").value = this.value;
        });
    });

    document.querySelectorAll("input[name='color']").forEach(radio => {
        radio.addEventListener("change", function() {
            document.getElementById("selected_color").value = this.value;
        });
    });
</script>
<!--================ End footer Area =================-->